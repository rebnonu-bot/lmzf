<!-- 自定义相机页面 -->
<view class="camera-container">
  <!-- 相机组件 -->
  <camera 
    class="camera" 
    device-position="{{devicePosition}}"
    flash="{{flashMode}}"
    resolution="high"
    binderror="onCameraError"
  >
    <!-- 顶部导航栏 -->
    <cover-view class="nav-bar">
      <cover-view class="nav-back" bindtap="goBack">
        <cover-image class="nav-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPgogIDxwYXRoIGQ9Ik0xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyeiIvPgo8L3N2Zz4="/>
      </cover-view>
      <cover-view class="nav-title">{{modeList[currentModeIndex].title}}</cover-view>
      <cover-view class="nav-actions">
        <cover-view class="action-btn {{flashMode !== 'off' ? 'active' : ''}}" bindtap="toggleFlash">
          <cover-image class="action-icon" src="{{flashMode === 'off' ? flashIcons.off : (flashMode === 'on' ? flashIcons.on : flashIcons.auto)}}"/>
        </cover-view>
        <cover-view class="action-btn" bindtap="switchCamera">
          <cover-image class="action-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPgogIDxwYXRoIGQ9Ik0xMiA2djNsNC00LTQtNHYzYy00LjQyIDAtOCAzLjU4LTggOCAwIDEuNTcuNDYgMy4wMyAxLjI0IDQuMjZMMy43IDE0LjhjLS40NS0uODMtLjctMS43OS0uNy0yLjggMC0zLjMxIDIuNjktNiA2LTZ6bTYuNzYgMS43NEwxNy4zIDkuMmMuNDQuODQuNyAxLjc5LjcgMi44IDAgMy4zMS0yLjY5IDYtNiA2di0zbC00IDQgNCA0di0zYzQuNDIgMCA4LTMuNTggOC04IDAtMS41Ny0uNDYtMy4wMy0xLjI0LTQuMjZ6Ii8+Cjwvc3ZnPg=="/>
        </cover-view>
      </cover-view>
    </cover-view>
    
    <!-- 帮助按钮 -->
    <cover-view class="help-btn" bindtap="showHelp">
      <cover-view class="help-icon">?</cover-view>
      <cover-view class="help-text">不会拍</cover-view>
    </cover-view>
    
    <!-- 中间提示区域 -->
    <cover-view class="center-tip" wx:if="{{modeList[currentModeIndex].showTip}}">
      <cover-view class="tip-text">{{modeList[currentModeIndex].tip}}</cover-view>
    </cover-view>
    
    <!-- 底部区域 -->
    <cover-view class="bottom-area">
      <!-- 模式切换标签 -->
      <cover-view class="mode-tabs">
        <cover-view 
          wx:for="{{modeList}}" 
          wx:key="index"
          class="tab {{currentModeIndex === index ? 'active' : ''}}"
          bindtap="switchMode"
          data-index="{{index}}"
        >
          {{item.name}}
          <cover-view class="tab-dot" wx:if="{{currentModeIndex === index}}"></cover-view>
        </cover-view>
      </cover-view>
      
      <!-- 底部控制区 -->
      <cover-view class="bottom-controls">
        <!-- 相册 -->
        <cover-view class="control-btn" bindtap="chooseAlbum">
          <cover-image class="btn-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPgogIDxwYXRoIGQ9Ik0yMiAxNlY0YzAtMS4xLS45LTItMi0ySDhjLTEuMSAwLTIgLjktMiAydjEyYzAgMS4xLjkgMiAyIDJoMTJjMS4xIDAgMi0uOSAyLTJ6bS0xMS00bDIuMDMgMi43MUwxNiAxMWw0IDVIOGwzLTR6TTIgNnYxNGMwIDEuMS45IDIgMiAyaDE0di0ySDRWNkgyeiIvPgo8L3N2Zz4="/>
          <cover-view class="btn-text">相册</cover-view>
        </cover-view>
        
        <!-- 拍照按钮 -->
        <cover-view class="capture-wrapper" bindtap="takePhoto">
          <cover-view class="capture-btn"></cover-view>
        </cover-view>
        
        <!-- 切换镜头 -->
        <cover-view class="control-btn" bindtap="switchCamera">
          <cover-image class="btn-icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiPgogIDxwYXRoIGQ9Ik0xMiA2YzMuNzkgMCA3LjE3IDIuMTMgOC44MiA1LjVjLS41OSAxLjIyLTEuNDIgMi4yNy0yLjQxIDMuMTJsMS40MSAxLjQxYzEuMzktMS4yMyAyLjQ5LTIuNzcgMy4xOC00LjUzQzIxLjI3IDcuMTEgMTcgNCAxMiA0Yy0xLjI3IDAtMi40OS4yLTMuNjQuNTdsMS42NSAxLjY1QzEwLjY2IDYuMDkgMTEuMzIgNiAxMiA2em0tMS4wNyAxLjE0TDEzIDkuMjFjLjU3LjI1IDEuMDMuNzEgMS4yOCAxLjI4bDIuMDcgMi4wN2MuMDgtLjM0LjE0LS43LjE0LTEuMDdDMTYuNSA5LjAxIDE0LjQ4IDcgMTIgN2MtLjM3IDAtLjcyLjA1LTEuMDcuMTR6TTIuMDEgMy44N2wyLjY4IDIuNjhDNy4wNiA3LjgzIDUuNzcgOS41MyA1IDExLjVjMS43MyA0LjM5IDYgNy41IDExIDcuNSAxLjUyIDAgMi45OC0uMjkgNC4zMi0uODJsMy40MiAzLjQyIDEuNDEtMS40MUwzLjQyIDIuNDUgMi4wMSAzLjg3em03LjUgNy41bDIuNjEgMi42MWMtLjA0LjAxLS4wOC4wMi0uMTIuMDItMS4zOCAwLTIuNS0xLjEyLTIuNS0yLjUgMC0uMDUuMDEtLjA4LjAxLS4xM3ptLTMuNC0zLjRsMS43NSAxLjc1Yy0uMjMuNTUtLjM2IDEuMTUtLjM2IDEuNzggMCAyLjQ4IDIuMDIgNC41IDQuNSA0LjUuNjMgMCAxLjIzLS4xMyAxLjc3LS4zNmwuOTguOThjLS44OC4yNC0xLjguMzgtMi43NS4zOC0zLjc5IDAtNy4xNy0yLjEzLTguODItNS41LjctMS40MyAxLjcyLTIuNjEgMi45My0zLjUzeiIvPgo8L3N2Zz4="/>
          <cover-view class="btn-text">切换</cover-view>
        </cover-view>
      </cover-view>
    </cover-view>
  </camera>
</view>
