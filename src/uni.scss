/**
 * UniApp 全局样式变量
 * 支持浅色/深色模式
 */

// ==================== 主题色配置 ====================

// 主色板
$lm-primary: #3B82F6;
$lm-primary-light: #60A5FA;
$lm-primary-dark: #2563EB;

// 辅助色
$lm-success: #10B981;
$lm-warning: #F59E0B;
$lm-error: #EF4444;
$lm-info: #64748B;

// 中性色
$lm-gray-50: #F8FAFC;
$lm-gray-100: #F1F5F9;
$lm-gray-200: #E2E8F0;
$lm-gray-300: #CBD5E1;
$lm-gray-400: #94A3B8;
$lm-gray-500: #64748B;
$lm-gray-600: #475569;
$lm-gray-700: #334155;
$lm-gray-800: #1E293B;
$lm-gray-900: #0F172A;

// ==================== 浅色模式变量 ====================

// 背景色
$bg-primary: #FFFFFF;
$bg-secondary: #F4F9FF;
$bg-tertiary: #F1F5F9;
$bg-card: #FFFFFF;
$bg-hover: #F8FAFC;
$bg-mask: rgba(0, 0, 0, 0.5);

// 文字色
$text-primary: #1E293B;
$text-secondary: #64748B;
$text-tertiary: #94A3B8;
$text-inverse: #FFFFFF;
$text-link: #3B82F6;

// 边框色
$border-light: #E2E8F0;
$border-medium: #CBD5E1;
$border-dark: #94A3B8;

// 阴影
$shadow-sm: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
$shadow-md: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);
$shadow-lg: 0 8rpx 32rpx rgba(0, 0, 0, 0.12);
$shadow-primary: 0 8rpx 24rpx rgba(59, 130, 246, 0.25);

// ==================== 深色模式变量 ====================
@media (prefers-color-scheme: dark) {
  :root {
    // 背景色
    --bg-primary: #0F172A;
    --bg-secondary: #1E293B;
    --bg-tertiary: #334155;
    --bg-card: #1E293B;
    --bg-hover: #334155;
    --bg-mask: rgba(0, 0, 0, 0.7);

    // 文字色
    --text-primary: #F8FAFC;
    --text-secondary: #CBD5E1;
    --text-tertiary: #94A3B8;
    --text-inverse: #0F172A;
    --text-link: #60A5FA;

    // 边框色
    --border-light: #334155;
    --border-medium: #475569;
    --border-dark: #64748B;

    // 阴影（深色模式下更柔和）
    --shadow-sm: 0 2rpx 8rpx rgba(0, 0, 0, 0.2);
    --shadow-md: 0 4rpx 16rpx rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 8rpx 32rpx rgba(0, 0, 0, 0.4);
    --shadow-primary: 0 8rpx 24rpx rgba(59, 130, 246, 0.35);
  }
}

// ==================== CSS 变量定义 ====================
:root {
  // 背景色
  --bg-primary: #{$bg-primary};
  --bg-secondary: #{$bg-secondary};
  --bg-tertiary: #{$bg-tertiary};
  --bg-card: #{$bg-card};
  --bg-hover: #{$bg-hover};
  --bg-mask: #{$bg-mask};

  // 文字色
  --text-primary: #{$text-primary};
  --text-secondary: #{$text-secondary};
  --text-tertiary: #{$text-tertiary};
  --text-inverse: #{$text-inverse};
  --text-link: #{$text-link};

  // 边框色
  --border-light: #{$border-light};
  --border-medium: #{$border-medium};
  --border-dark: #{$border-dark};

  // 阴影
  --shadow-sm: #{$shadow-sm};
  --shadow-md: #{$shadow-md};
  --shadow-lg: #{$shadow-lg};
  --shadow-primary: #{$shadow-primary};
}

// ==================== 尺寸变量 ====================

// 圆角
$radius-sm: 12rpx;
$radius-md: 24rpx;
$radius-lg: 32rpx;
$radius-xl: 40rpx;
$radius-full: 9999rpx;

// 间距
$space-xs: 8rpx;
$space-sm: 16rpx;
$space-md: 24rpx;
$space-lg: 32rpx;
$space-xl: 48rpx;
$space-2xl: 64rpx;

// 字号
$text-xs: 22rpx;
$text-sm: 24rpx;
$text-base: 28rpx;
$text-md: 30rpx;
$text-lg: 32rpx;
$text-xl: 36rpx;
$text-2xl: 40rpx;

// ==================== 渐变预设 ====================

// 主色渐变
$gradient-primary: linear-gradient(135deg, #3B82F6 0%, #60A5FA 100%);
$gradient-primary-hover: linear-gradient(135deg, #2563EB 0%, #3B82F6 100%);

// 背景渐变
$gradient-bg-light: linear-gradient(180deg, #F4F9FF 0%, #FFFFFF 100%);
$gradient-bg-blue: linear-gradient(180deg, #3B82F6 0%, #60A5FA 100%);

// 毛玻璃效果
@mixin glass-effect($bg-color: rgba(255, 255, 255, 0.8)) {
  background: $bg-color;
  backdrop-filter: blur(20rpx);
  -webkit-backdrop-filter: blur(20rpx);
}

// ==================== 布局混入 ====================

// 水平垂直居中
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// 水平排列
@mixin flex-row($gap: 0) {
  display: flex;
  align-items: center;
  gap: $gap;
}

// 垂直排列
@mixin flex-col($gap: 0) {
  display: flex;
  flex-direction: column;
  gap: $gap;
}

// 文本省略
@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// 多行文本省略
@mixin text-ellipsis-multi($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// ==================== 动画预设 ====================

// 淡入
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

// 上滑淡入
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20rpx);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// 脉冲
@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

// 旋转
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

// ==================== 适配变量 ====================

// 安全区域适配（小程序）
$safe-area-top: var(--status-bar-height, 0);
$safe-area-bottom: constant(safe-area-inset-bottom);
$safe-area-bottom: env(safe-area-inset-bottom);

// 导航栏高度
$navbar-height: 44px;

// TabBar 高度
$tabbar-height: 50px;
